function guessPaymentMethod(e){console.log("OKOK");let t=document.getElementById("cardNumber").value;if(t.length>=6){let e=t.substring(0,6);window.Mercadopago.getPaymentMethod({bin:e},setPaymentMethod)}}function setPaymentMethod(e,t){if(200==e){let e=t[0].id;document.getElementById("payment_method_id").value=e,getInstallments()}else alert("payment method info error:"+t)}function getInstallments(){window.Mercadopago.getInstallments({payment_method_id:document.getElementById("payment_method_id").value,amount:parseFloat(document.getElementById("transaction_amount").value)},function(e,t){200==e?(document.getElementById("installments").options.length=0,t[0].payer_costs.forEach(e=>{let t=document.createElement("option");t.text=e.recommended_message,t.value=e.installments,document.getElementById("installments").appendChild(t)})):alert("installments method info error:"+t)})}console.log("Foi carregado"),window.Mercadopago.setPublishableKey("TEST-6e3b5050-bb5c-456a-9ff8-a62b79d46b8c"),window.Mercadopago.getIdentificationTypes(),document.getElementById("cardNumber").addEventListener("keyup",guessPaymentMethod),document.getElementById("cardNumber").addEventListener("change",guessPaymentMethod);let doSubmit=!1;function doPay(e){if(e.preventDefault(),!doSubmit){var t=document.querySelector("#pay");return window.Mercadopago.createToken(t,sdkResponseHandler),!1}}function sdkResponseHandler(e,t){if(200!=e&&201!=e)alert("verify filled data");else{var n=document.querySelector("#pay"),o=document.createElement("input");o.setAttribute("name","token"),o.setAttribute("type","hidden"),o.setAttribute("value",t.id),n.appendChild(o),doSubmit=!0,n.submit()}}document.querySelector("#pay").addEventListener("submit",doPay);
